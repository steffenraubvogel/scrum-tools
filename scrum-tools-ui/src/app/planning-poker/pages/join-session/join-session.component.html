<h1>Planning Poker â€“ Join Session</h1>
<p>Before you can enter the session, pick a name and your role.</p>
<form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
  <div class="row mb-3">
    <div class="col-md-4">
      <label for="userName" class="form-label">Your name: *</label>
      <input
        id="userName"
        type="text"
        formControlName="userName"
        placeholder="e.g. Joe"
        class="form-control"
        [class.is-invalid]="formGroup.controls.userName.touched && formGroup.controls.userName.status === 'INVALID'"
      />
      @if (formGroup.controls.userName.touched && formGroup.controls.userName.status === "INVALID") {
        <div class="invalid-feedback">Please provide your name.</div>
      }
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-4">
      <label for="roleSelect" class="form-label">Role: *</label>
      <select
        id="roleSelect"
        class="form-select"
        formControlName="role"
        [class.is-invalid]="formGroup.controls.role.touched && formGroup.controls.role.status === 'INVALID'"
      >
        <option value="guesser">Guesser</option>
        <option value="observer">Observer</option>
      </select>
      <div class="form-text">While the guesser can vote, the observer can't.</div>
      @if (formGroup.controls.role.touched && formGroup.controls.role.status === "INVALID") {
        <div class="invalid-feedback">Please provide your role.</div>
      }
    </div>
  </div>

  <div class="row mb-3">
    <div class="col">
      <button class="btn btn-primary" type="submit">Submit</button>
    </div>
  </div>
</form>
